import React from 'react';
import ReactDOM from 'react-dom';
import { BrowserRouter as Router } from 'react-router-dom';
import App from './App';
import { Provider } from './hooks';
import { defaultProviders, InternetIdentity } from '@connect2ic/core/providers';
import { Connect2ICProvider } from '@connect2ic/react';
import { superheroes } from '../declarations';
import { idlFactory, canisterId } from '../declarations';
import { PlugWallet } from "@connect2ic/core/providers/plug-wallet"

// Styles for the ConnectDialog & Button
const providers = [
	// Either import them from @connect2ic/core
	InternetIdentity,
	PlugWallet,
];

// Map of canister definitions as generated by dfx
// It requires the canisterId & idlFactory
const canisterDefinitions = {
	superheroes: { idlFactory, canisterId },
};
const host = window.location.origin;
ReactDOM.render(
	<Router>
		<Connect2ICProvider
			canisters={canisterDefinitions}
			providers={providers}
			dev={
				window.location.origin.includes('localhost') ||
				window.location.origin.includes('192.168')
			}
			host={host}>
			<Provider>
				<App />
			</Provider>
		</Connect2ICProvider>
	</Router>,
	document.getElementById('app')
);
